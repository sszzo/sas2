/* --- THEME DEFINITIONS --- */

/* Light Theme (Original :root) */
:root {
  --primary-color: #2c6e49;
  --primary-hover-color: #1b4d36;
  --secondary-color: #6c757d;
  --secondary-hover-color: #5a6268;
  --danger-color: #c62828;
  --background-color: #f0f2f5;
  --container-bg-color: #ffffff;
  --text-color: #333;
  --label-color: #555;
  --border-color: #ced4da;
  --input-bg-color: #fff;
  --card-bg: linear-gradient(135deg, #f0f4f7, #ffffff);
  --card-border-color: #d3e0ea;
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.07);
  --note-bg-color: #fffde7;
  --note-border-color: #ffeb3b;
  --debt-bg-color: #fde8e8;
  --debt-border-color: #f2c6c6;
  --debt-text-color: #c62828;
  --font-family: 'Almarai', sans-serif;
}

/* Dark Theme (New Default) */
body[data-theme="dark"] {
  --primary-color: #4caf50;
  --primary-hover-color: #66bb6a;
  --secondary-color: #78909c;
  --secondary-hover-color: #90a4ae;
  --danger-color: #ef5350;
  --background-color: #121212;
  --container-bg-color: #1e1e1e;
  --text-color: #e0e0e0;
  --label-color: #bdbdbd;
  --border-color: #424242;
  --input-bg-color: #2c2c2c;
  --card-bg: linear-gradient(135deg, #2a2a2a, #1e1e1e);
  --card-border-color: #424242;
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
  --note-bg-color: #3e3c32;
  --note-border-color: #6d621b;
  --debt-bg-color: #4d2e2e;
  --debt-border-color: #8b4c4c;
  --debt-text-color: #ef9a9a;
}

/* Ocean Theme */
body[data-theme="ocean"] {
  --primary-color: #0077b6;
  --primary-hover-color: #0096c7;
  --secondary-color: #90e0ef;
  --secondary-hover-color: #ade8f4;
  --danger-color: #f77f00;
  --background-color: #03045e;
  --container-bg-color: #023e8a;
  --text-color: #ffffff;
  --label-color: #caf0f8;
  --border-color: #0096c7;
  --input-bg-color: #0077b6;
  --card-bg: linear-gradient(135deg, #023e8a, #03045e);
  --card-border-color: #0096c7;
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  --note-bg-color: #0077b6;
  --note-border-color: #48cae4;
  --debt-bg-color: #582f0e;
  --debt-border-color: #914f1e;
  --debt-text-color: #ffba08;
}

/* Crimson Theme */
body[data-theme="crimson"] {
  --primary-color: #d32f2f;
  --primary-hover-color: #f44336;
  --secondary-color: #757575;
  --secondary-hover-color: #9e9e9e;
  --danger-color: #ffab40;
  --background-color: #121212;
  --container-bg-color: #212121;
  --text-color: #f5f5f5;
  --label-color: #bdbdbd;
  --border-color: #424242;
  --input-bg-color: #303030;
  --card-bg: linear-gradient(135deg, #2a2a2a, #1e1e1e);
  --card-border-color: #424242;
  --card-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
  --note-bg-color: #424242;
  --note-border-color: #616161;
  --debt-bg-color: #5f2b2b;
  --debt-border-color: #8b4c4c;
  --debt-text-color: #ffcdd2;
}


/* --- GENERAL STYLES --- */
body { font-family: var(--font-family); background-color: var(--background-color); margin: 0; padding: 20px; color: var(--text-color);
transition: background-color 0.3s, color 0.3s; }
.container, .card { background-color: var(--container-bg-color); padding: 25px; border-radius: 15px; box-shadow: var(--card-shadow); width: 90%; max-width: 500px;
margin-left: auto; margin-right: auto;
transition: background-color 0.3s; box-sizing: border-box; }
h2, .main-title { text-align: center; margin-bottom: 20px; color: var(--primary-color); font-weight: 700;
font-size: 24px; }
h3 { margin-top: 10px; }
label { display: block; margin-top: 15px; color: var(--label-color); font-weight: 500; margin-bottom: 5px;
}
input, textarea, select { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid var(--border-color); border-radius: 10px; font-family: var(--font-family); font-size: 16px;
box-sizing: border-box; background-color: var(--input-bg-color); color: var(--text-color); transition: border-color 0.3s, background-color 0.3s; }
.search-input { margin-bottom: 10px; }
.card { background: var(--card-bg);
border: 1px solid var(--card-border-color); margin-top: 20px; padding: 25px; border-radius: 20px; box-shadow: var(--card-shadow); }
.card h3 { text-align: center; color: var(--primary-color);
margin-bottom: 20px; margin-top: 10px; font-size: 20px; font-weight: bold; }

/* Styles for Searchable Select */
.searchable-select { position: relative; width: 100%;
margin-top: 5px; }
.searchable-select .search-input { width: 100%; margin: 0; cursor: pointer; }
.searchable-select i { position: absolute; top: 50%; transform: translateY(-50%);
left: 15px; color: var(--label-color); transition: transform 0.3s; pointer-events: none; }
.searchable-select.open i { transform: translateY(-50%) rotate(180deg); }
.options-list { position: absolute;
top: 100%; left: 0; right: 0; background-color: var(--container-bg-color); border: 1px solid var(--border-color); border-radius: 10px; margin-top: 5px; max-height: 200px; overflow-y: auto;
z-index: 1000; display: none; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
.options-list .option { padding: 12px 15px; cursor: pointer; transition: background-color 0.2s;
font-size: 15px; }
.options-list .option:hover { background-color: var(--background-color); }
.options-list .option.hidden { display: none; }

.tab-buttons {
  display: flex;
  justify-content: center;
width: 90%;
  max-width: 500px;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
}
.tab-buttons button {
  background-color: transparent;
border: none;
  border-bottom: 3px solid transparent;
  color: var(--label-color);
  padding: 10px 12px;
  margin: 0;
  border-radius: 0;
  cursor: pointer;
  font-size: 15px;
font-family: var(--font-family);
  transition: color 0.3s, border-bottom-color 0.3s;
  font-weight: 500;
}
.tab-buttons button.active-tab {
  color: var(--primary-color);
  border-bottom-color: var(--primary-color);
  font-weight: 700;
}

.card-item, .payment-card-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; padding: 12px 15px; border-radius: 12px; background-color: var(--container-bg-color);
border: 1px solid var(--border-color); transition: transform 0.3s ease, box-shadow 0.3s ease; }
.card-item:hover, .payment-card-item:hover { transform: translateY(-3px);
box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
.card-item .label, .payment-card-item .label { display: flex; align-items: center; color: var(--label-color);
font-weight: bold; font-size: 15px; }
.card-item i, .payment-card-item i { color: var(--primary-color); font-size: 18px; margin-left: 10px;
}
.card-item p, .payment-card-item p { font-size: 15px; color: var(--text-color); margin: 0; text-align: left; font-weight: 700; }
.card-item.debt-item, .payment-card-item.debt-item { background-color: var(--debt-bg-color);
border-color: var(--debt-border-color); }
.card-item.debt-item .label, .card-item.debt-item .label i, .card-item.debt-item p { color: var(--debt-text-color); }
.payment-card-item .red-text { color: var(--danger-color);
}
.note { text-align: center; font-size: 14px; color: var(--label-color); background-color: var(--note-bg-color); padding: 12px; border-radius: 10px; border: 1px solid var(--note-border-color); margin-bottom: 20px;
}
.date-inputs { display: flex; gap: 10px; }
.date-inputs input { width: 100%; box-sizing: border-box; }
.btn-primary, .btn-secondary, .link-btn { margin-top: 20px;
padding: 12px; border: none; border-radius: 10px; font-size: 16px; font-family: var(--font-family); cursor: pointer; width: 100%;
transition: background-color 0.3s ease, transform 0.1s ease; position: relative; display: flex; justify-content: center; align-items: center; gap: 8px;
}
.btn-primary { background-color: var(--primary-color); color: white; }
.btn-primary:hover:not(:disabled) { background-color: var(--primary-hover-color); }
.btn-secondary { background-color: var(--secondary-color); color: white; }
.btn-secondary:hover { background-color: var(--secondary-hover-color);
}
.btn-primary:disabled { background-color: var(--primary-color); cursor: not-allowed; opacity: 0.5; }
.btn-primary:active, .btn-secondary:active { transform: scale(0.98); }

.header { display: flex; justify-content: space-between;
align-items: center; width: 90%; max-width: 500px; padding: 0 10px; margin: 20px auto; }
.header-left, .header-right { display: flex; align-items: center;
gap: 5px; }
.theme-btn, .header-action-btn { background: none; border: none; color: var(--label-color); font-size: 22px; cursor: pointer; padding: 5px; margin: 0 5px;
transition: color 0.3s; }
.theme-btn:hover, .header-action-btn:hover { color: var(--primary-color); }
.logout-btn { color: var(--danger-color); }
.logout-btn:hover { color: #e57373;
}
.d-none { display: none !important; }

/* ===== كود التثبيت المضاف ===== */
#install-btn {
    display: none; /* يتم إخفاؤه مبدئياً وسيتم إظهاره عبر الجافاسكريبت */
}
/* ========================== */

.auth-toggle { text-align: center; margin-top: 20px; font-size: 14px; color: var(--label-color); }
.auth-toggle a { color: var(--primary-color);
text-decoration: none; font-weight: bold; }

#toast-container { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 9999; display: flex; flex-direction: column;
align-items: center; gap: 10px; }
.toast { padding: 12px 20px; border-radius: 8px; color: white; font-size: 16px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
opacity: 0; transition: opacity 0.3s, transform 0.3s; transform: translateY(-20px); }
.toast.show { opacity: 1; transform: translateY(0); }
.toast.success { background-color: #2e7d32;
}
.toast.error { background-color: #c62828; }
.toast.info { background-color: #0277bd; }

/* ### START OF MODIFICATION ### */
.buttons-container {
  display: flex;
flex-direction: column; /* Stacks children vertically */
  gap: 10px; /* Space between rows */
  width: 90%;
  max-width: 500px;
margin-top: 20px;
  margin-left: auto;
  margin-right: auto;
}
.buttons-row {
  display: flex;
  gap: 10px;
/* Space between buttons in the same row */
}
.buttons-container button {
  background-color: #2c6e49;
  color: white;
  border: none;
  padding: 12px;
font-size: 16px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s;
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
margin-top: 0;
}
.buttons-row button {
    flex: 1;
/* Makes buttons in a row share space equally */
}
/* ### END OF MODIFICATION ### */

.buttons-container button:hover { background-color: #1b4d36;
}
#subscription-buttons .save-card-btn, #payment-buttons .save-payment-card-btn  {
    background-color: var(--primary-color);
}
#subscription-buttons .save-card-btn:hover, #payment-buttons .save-payment-card-btn:hover {
    background-color: var(--primary-hover-color);
}
#subscription-buttons #shareCardBtn, #payment-buttons #sharePaymentCardBtn {
    background-color: var(--secondary-color);
}
#subscription-buttons #shareCardBtn:hover, #payment-buttons #sharePaymentCardBtn:hover {
    background-color: var(--secondary-hover-color);
}

#debt-list-container { margin-top: 20px;
max-height: 400px; overflow-y: auto; padding-left: 10px;
}
.debt-item-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 15px; margin-bottom: 10px;
border-radius: 12px; background-color: var(--container-bg-color);
border: 1px solid var(--border-color); transition: background-color 0.3s, transform 0.2s; }
.debt-item-row:hover { transform: translateX(5px); background-color: var(--background-color);
}
.debt-info { display: flex;
flex-direction: column; flex-grow: 1; }
.debt-name { font-weight: bold; font-size: 16px; color: var(--text-color); }
.debt-amount { font-size: 15px;
color: var(--danger-color); font-weight: bold;
margin-top: 8px;}
.debt-actions button { background: none; border: none; cursor: pointer; font-size: 18px; padding: 5px 8px;
margin-left: 5px; border-radius: 5px;
transition: background-color 0.2s, color 0.2s, text-shadow 0.2s; }
.debt-actions .notes-btn { color: var(--secondary-color);
}
.debt-actions .edit-btn { color: var(--primary-color);
}
.debt-actions .delete-btn { color: var(--danger-color); }
.debt-actions button:hover { background-color: var(--background-color); }
.no-debts-message { text-align: center;
margin-top: 30px; padding: 20px; background-color: var(--container-bg-color);
border-radius: 12px; color: var(--label-color); font-size: 16px; }
.add-debt-form { padding-bottom: 20px; }
.separator { border: none;
height: 1px; background-color: var(--border-color);
margin: 25px 0; }
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%;
background-color: rgba(0, 0, 0, 0.6);
display: none; justify-content: center; align-items: center; z-index: 10000; }
.modal-overlay.show { display: flex;
}
.modal-content { background-color: var(--container-bg-color); padding: 25px; border-radius: 15px;
box-shadow: var(--card-shadow); width: 90%; max-width: 400px; text-align: center;
}
.modal-content h3 { margin-top: 0; color: var(--primary-color); }
.modal-content p { margin-bottom: 15px;
}
.modal-actions { display: flex; gap: 10px; margin-top: 20px;
}
.modal-actions button { flex: 1; margin: 0; }
.error-message { background-color: var(--debt-bg-color);
color: var(--debt-text-color); padding: 10px; border-radius: 8px; text-align: center;
margin-bottom: 15px; display: none; }
.user-info { font-size: 14px; color: var(--label-color); display: flex;
align-items: center; gap: 5px; background-color: var(--container-bg-color);
padding: 5px 12px; border-radius: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border: 1px solid var(--border-color);
}

/* Theme Modal Styles */
#theme-options-container { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
.theme-option { padding: 15px;
border-radius: 10px; cursor: pointer; text-align: center; border: 2px solid var(--border-color); transition: transform 0.2s, border-color 0.2s; }
.theme-option:hover { transform: scale(1.05);
border-color: var(--primary-color); }
.theme-option .swatch { width: 100%; height: 40px; border-radius: 5px; margin-bottom: 10px; border: 1px solid var(--border-color);
}
.theme-option span { font-weight: bold; font-size: 16px; color: var(--text-color); }

/* Dashboard and other component styles */
.dashboard-grid { display: grid;
grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
.info-card { background-color: var(--container-bg-color); border: 1px solid var(--border-color); border-radius: 15px; padding: 20px;
display: flex; align-items: center; gap: 15px; transition: transform 0.2s, box-shadow 0.2s; }
.info-card:hover { transform: translateY(-5px); box-shadow: var(--card-shadow);
}
.info-card.total-debt-card { grid-column: 1 / -1; }
.info-card i { font-size: 28px; color: var(--primary-color); }
.info-card-content { display: flex; flex-direction: column;
}
.info-card-title { font-size: 14px; color: var(--label-color); }
.info-card-value { font-size: 24px; font-weight: 700; color: var(--text-color); }

.buttons-container .btn-action { background-color: #008080;
}
.buttons-container .btn-action:hover { background-color: #006666; }

.charts-container { margin-top: 20px; }
.chart-card { background-color: var(--container-bg-color); padding: 20px; border-radius: 15px;
border: 1px solid var(--border-color); }
.chart-card h3 { text-align: center; margin-top: 0; margin-bottom: 15px; color: var(--primary-color); }
.transactions-container { margin-top: 20px;
}
.transactions-container h3 { text-align: center; color: var(--primary-color); margin-bottom: 15px; }
#transactions-log { max-height: 400px; overflow-y: auto; padding-right: 10px;
}
.transaction-item { display: flex; justify-content: space-between; align-items: center; padding: 12px; margin-bottom: 8px; border-radius: 10px; background-color: var(--container-bg-color); border: 1px solid var(--border-color);
font-size: 14px; }
.transaction-item .info { display: flex; flex-direction: column; }
.transaction-item .name { font-weight: bold; }
.transaction-item .date { font-size: 12px;
color: var(--label-color); }
.transaction-item .amount { font-weight: bold; font-size: 16px; }
.transaction-item.add .amount { color: var(--danger-color); }
.transaction-item.payment .amount { color: var(--primary-color);
}

.sorting-controls { display: flex; align-items: center; justify-content: center; gap: 10px;
margin: 15px 0; color: var(--label-color); font-size: 14px;
}
.sort-btn { background-color: var(--container-bg-color); border: 1px solid var(--border-color); color: var(--label-color); padding: 6px 12px;
border-radius: 20px; cursor: pointer; font-family: var(--font-family);
transition: all 0.3s; }
.sort-btn:hover { background-color: var(--primary-hover-color); color: white; border-color: var(--primary-hover-color);
}
.sort-btn.active { background-color: var(--primary-color); color: white; border-color: var(--primary-color);
font-weight: bold; }

.debt-actions .notes-btn.has-notes { color: #ffc107; position: relative;
}
.debt-actions .notes-btn.has-notes:hover { color: #ffd54f; text-shadow: 0 0 8px #ffd54f;
}

#account-list { display: flex; flex-direction: column; gap: 15px; margin-top: 20px;
}
.account-card { background-color: var(--container-bg-color); border: 1px solid var(--border-color); border-radius: 12px;
padding: 15px; display: flex; justify-content: space-between; align-items: center;
box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.account-card-info { display: flex; align-items: center;
gap: 12px; flex-grow: 1; cursor: pointer; padding: 5px;
border-radius: 8px; transition: background-color 0.2s; }
.account-card-info:hover { background-color: var(--background-color);
}
.account-card-info i { font-size: 24px; color: var(--primary-color);
}
.account-card-info .username { font-weight: bold; font-size: 16px; color: var(--text-color);
}
.account-card-actions button { background: none; border: none; font-size: 18px; cursor: pointer;
margin-left: 8px; padding: 8px; border-radius: 50%; transition: all 0.2s;
}
.account-card-actions .delete-btn { color: var(--danger-color); }
.account-card-actions .delete-btn:hover { background-color: var(--danger-color);
color: white; }

/* Footer Styles */
.footer-credit {
  text-align: center;
padding: 15px;
  margin-top: 30px;
  font-size: 14px;
  color: var(--label-color);
  border-top: 1px solid var(--border-color);
}

.footer-credit a {
  color: var(--primary-color);
  text-decoration: none;
font-weight: bold;
  margin-right: 5px;
}

.footer-credit a:hover {
  text-decoration: underline;
}
